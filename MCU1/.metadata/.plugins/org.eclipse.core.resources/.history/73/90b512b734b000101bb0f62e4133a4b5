/*
 * stm32f446_uart_driver.h
 *
 *  Created on: Oct 23, 2025
 *      Author: jiperez
 */

#ifndef STM32F446_UART_DRIVER_H
#define STM32F446_UART_DRIVER_H

#include "stm32f446.h"

// Configuraci√≥n USART
typedef struct {
    uint32_t USART_Baud;
    uint8_t USART_WordLength;
    uint8_t USART_StopBits;
    uint8_t USART_ParityControl;
    uint8_t USART_Mode;
    uint8_t USART_HWFlowControl;
} USART_Config_t;

// Handle USART
typedef struct {
    USART_RegDef_t *pUSARTx;
    USART_Config_t USART_Config;
} USART_Handle_t;

// Macros USART
#define USART_WORDLEN_8B        0
#define USART_WORDLEN_9B        1

#define USART_STOPBITS_1        0
#define USART_STOPBITS_2        1

#define USART_PARITY_DISABLE    0
#define USART_PARITY_ENABLE     1

#define USART_MODE_TX           1
#define USART_MODE_RX           2
#define USART_MODE_TXRX         3

#define USART_HW_FLOW_CTRL_NONE 0

// Prototipos de funciones
void USART_Init(USART_Handle_t *pUSARTHandle);
void USART_SendData(USART_RegDef_t *pUSARTx, uint8_t data);
void USART_IRQInterruptConfig(uint8_t IRQNumber, uint8_t EnorDi);
void USART_IRQPriorityConfig(uint8_t IRQNumber, uint8_t IRQPriority);

#endif
